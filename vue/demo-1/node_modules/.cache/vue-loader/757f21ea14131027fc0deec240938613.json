{"remainingRequest":"D:\\UniversityRecruitmentSystem\\vue\\demo-1\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\UniversityRecruitmentSystem\\vue\\demo-1\\src\\views\\Admin.vue?vue&type=style&index=0&id=54c38a05&scoped=true&lang=css","dependencies":[{"path":"D:\\UniversityRecruitmentSystem\\vue\\demo-1\\src\\views\\Admin.vue","mtime":1645187939343},{"path":"D:\\UniversityRecruitmentSystem\\vue\\demo-1\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\UniversityRecruitmentSystem\\vue\\demo-1\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\UniversityRecruitmentSystem\\vue\\demo-1\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\UniversityRecruitmentSystem\\vue\\demo-1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\UniversityRecruitmentSystem\\vue\\demo-1\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgouZWwtcGFnaW5hdGlvbl9Db2xvcgovZGVlcC8gLmVsLXBhZ2luYXRpb25fX3RvdGFsIHsKICBjb2xvcjogI2ZmZmZmZjsKfQovZGVlcC8gLmVsLXBhZ2luYXRpb25fX2p1bXAgewogIGNvbG9yOiAjZmZmZmZmOwp9CgoKCg=="},{"version":3,"sources":["D:\\UniversityRecruitmentSystem\\vue\\demo-1\\src\\views\\Admin.vue"],"names":[],"mappings":";;AAuSA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACnB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChB","file":"D:/UniversityRecruitmentSystem/vue/demo-1/src/views/Admin.vue","sourceRoot":"","sourcesContent":["<template>\n  <div style=\"background: #545c64; width: 100vh \" >\n<!--    功能区域-->\n    <div style=\"margin: 5px 10px \">\n      <el-button type=\"primary\" @click=\"add\">新增</el-button>\n<!--      <el-button type=\"primary\">导入</el-button>-->\n<!--      <el-button type=\"primary\">导出</el-button>-->\n    </div>\n<!--    搜索区域-->\n    <div style=\"margin: 5px 10px\" >\n      <el-input v-model=\"search\" placeholder=\"Please input\" clearable style=\"width: 40vh\">\n        <template #append >\n          <el-button type=\"primary\" @click=\"load\">\n            <el-icon >\n              <Search />\n            </el-icon>\n            查询\n          </el-button>\n        </template>\n      </el-input>\n    </div>\n<!--    主体-->\n\n    <el-table\n        :data=\"tableData\"\n        border\n        stripe\n        style=\"width:99%;margin: 10px\">\n      <el-table-column\n          type=\"selection\"\n          header-align=\"center\"\n          align=\"center\"\n      >\n      </el-table-column>\n      <el-table-column\n          prop=\"id\"\n          header-align=\"center\"\n          align=\"center\"\n          label=\"ID\"\n          width=\"80\"\n          sortable\n      >\n      </el-table-column>\n      <el-table-column\n          prop=\"name\"\n          header-align=\"center\"\n          align=\"left\"\n\n          sortable\n          label=\"姓名\"\n      >\n      </el-table-column>\n      <el-table-column\n          prop=\"pwd\"\n          header-align=\"center\"\n          align=\"left\"\n\n          sortable\n          label=\"密码\"\n      >\n      </el-table-column>\n      <el-table-column\n          prop=\"level\"\n          header-align=\"center\"\n          width=\"120\"\n          sortable\n          align=\"center\"\n          label=\"管理员等级\"\n      >\n      </el-table-column>\n      <el-table-column\n          prop=\"registerTime\"\n          header-align=\"center\"\n          align=\"center\"\n\n          sortable\n          label=\"注册时间\"\n      >\n      </el-table-column>\n      <el-table-column\n          prop=\"state\"\n          header-align=\"center\"\n          align=\"center\"\n          width=\"80\"\n          sortable\n          label=\"状态\"\n      >\n      </el-table-column>\n      <el-table-column\n          label=\"操作\"\n          header-align=\"center\"\n          align=\"center\"\n          width=\"170\"\n      >\n        <template #default=\"scope\">\n          <el-button  type=\"primary\"  @click=\"handleEdit(scope.row)\">\n            编辑\n          </el-button>\n          <el-popconfirm title=\"确定删除吗？\" @confirm=\"handleDetail(scope.row.id)\">\n            <template #reference>\n              <el-button  type=\"danger\" >删除</el-button>\n            </template>\n          </el-popconfirm>\n        </template>\n      </el-table-column>\n    </el-table>\n<!--    分页-->\n    <div style=\"margin: 10px 0;text-align: center\">\n<!--      <el-pagination-->\n<!--          background-->\n<!--          layout=\"prev, pager, next\"-->\n<!--          :total=\"1000\"-->\n<!--          :hide-on-single-page=\"true\">-->\n<!--      </el-pagination>-->\n      <el-pagination class=\"el-pagination_Color\"\n          background\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"currentPage\"\n          :page-sizes=\"[10, 20, 50]\"\n          :page-size=\"pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\"\n\n      >\n      </el-pagination>\n\n    </div>\n<!--    对话框-->\n    <el-dialog\n        v-model=\"dialogVisible\"\n        title=\"增加管理员\"\n        width=\"30%\"\n    >\n      <el-form :inline=\"true\" :model=\"admin_form\" label-width=\"120px\">\n        <el-form-item label=\"姓名\" required>\n          <el-input v-model=\"admin_form.name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"管理员等级\" required>\n          <el-select\n              v-model=\"admin_form.level\"\n              placeholder=\"please select level\"\n          >\n            <el-option label=\"1(全部权限）\" value=1></el-option>\n            <el-option label=\"2(审核)\" value=2></el-option>\n            <el-option label=\"3(搜索发布通告)\" value=3></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"状态\" required>\n          <el-radio-group v-model=\"admin_form.state\">\n            <el-radio border :label=\"1\">启用</el-radio>\n            <el-radio border :label=\"0\">禁用</el-radio>\n          </el-radio-group>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <el-button @click=\"dialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"save\">确定</el-button>\n      </template>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\n\nimport { Search } from \"@element-plus/icons\";\nimport request from \"../utils/request\";\nexport default {\n  name: \"Admin\",\n  components: {\n    Search\n  },\n  data(){\n\n    return{\n      loading: true,\n      currentPage: 1,\n      pageSize: 10,\n      total: 0,\n      dialogVisible:false,\n      search:'',\n      tableData:[ ],\n      admin_form:{\n        id:'',\n        name:'',\n        level:'',\n        state:'',\n      },\n    }\n  },\n\n  created() {\n    this.load()\n  },\n\n  methods:{\n    load(){\n      request.get(\"/admin\",{\n        params:{\n          pageNum: this.currentPage,\n          pageSize: this.pageSize,\n          search: this.search\n\n        }}).then(res => {\n        console.log(res)\n        this.tableData = res.data.records\n        this.total = res.data.total\n      })\n    },\n\n    add(){\n      this.dialogVisible=true\n      this.admin_form={}\n    },\n    handleDetail(id){\n      console.log(id)\n      request.delete(\"/admin/\"+id).then(res=>{\n        if(res.code=='0'){\n          this.$message({\n            type:\"success\",\n            message:\"删除成功\"\n          })\n          this.load()\n        }\n        else {\n          this.$message({\n            type:\"error\",\n            message:\"删除失败\"\n          })\n        }\n      })\n    },\n    handleEdit(row){\n      this.admin_form= JSON.parse(JSON.stringify(row))\n      console.log(this.admin_form)\n      this.dialogVisible=true\n    },\n    save(){\n\n      if(this.admin_form.id){\n        request.put(\"/admin\",this.admin_form).then(res=>{\n          console.log(res)\n          if(res.code=='0'){\n            this.$message({\n              type:\"success\",\n              message:\"更新成功\"\n            })\n            this.load()\n            this.dialogVisible=false\n          }\n          else {\n            this.$message({\n              type:\"error\",\n              message:\"更新失败\"\n            })\n          }\n        })\n      }\n      else {\n        request.post(\"/admin\",this.admin_form).then(res=>{\n          console.log(res)\n          if(res.code=='0'){\n            this.$message({\n              type:\"success\",\n              message:\"添加成功\"\n\n            })\n            this.load()\n            this.dialogVisible=false\n          }\n          else {\n            this.$message({\n              type:\"error\",\n              message:\"添加失败\"\n\n            })\n          }\n        })\n      }\n\n    },\n    handleSizeChange(pageSize) {   // 改变当前每页的个数触发\n      this.pageSize = pageSize\n      this.load()\n    },\n    handleCurrentChange(pageNum) {  // 改变当前页码触发\n      this.currentPage = pageNum\n      this.load()\n    },\n  }\n}\n</script>\n<style scoped>\n\n.el-pagination_Color\n/deep/ .el-pagination__total {\n  color: #ffffff;\n}\n/deep/ .el-pagination__jump {\n  color: #ffffff;\n}\n\n\n\n</style>\n"]}]}